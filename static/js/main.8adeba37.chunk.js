(this["webpackJsonpcolorado-budget"]=this["webpackJsonpcolorado-budget"]||[]).push([[0],{222:function(t,e,a){},224:function(t,e,a){},225:function(t,e,a){},226:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=a(20),s=(a(201),a(3)),d=a(87),l=a(15),u=a(57),f=a(85),b=a(56),j=a(86),m=a(45),h=a(14),g=a(1),O=function(t){var e=t.data,a=t.dimensions;if(void 0===h.k)return Object(g.jsx)("h1",{children:"Test"});var n=r.a.useRef(null),c=a.width,i=a.height,o=a.margin,s=c+o.left+o.right,d=i+o.top+o.bottom;return r.a.useEffect((function(){var t=h.k("%Y-%m-%d"),a=h.h().domain(h.c(e.items,(function(e){return t(e.date)}))).range([0,c]),r=h.g().domain([1.1*h.f(e.items,(function(t){return t.value})),1.1*h.e(e.items,(function(t){return t.value}))]).range([i,0]),s=h.i(n.current);s.selectAll("*").remove();var d=s.append("g").attr("transform","translate(".concat(o.left,",").concat(o.top,")")),l=h.a(a).tickSize(-i+o.bottom).tickFormat(h.j("%B")),u=d.append("g").attr("transform","translate(0, ".concat(i-o.bottom,")")).call(l);u.select(".domain").remove(),u.selectAll("line").attr("stroke","rgba(255, 255, 255, 0.2)"),u.selectAll("text").attr("transform","rotate(-45)").attr("opacity",.5).attr("color","pink").attr("font-size","0.75rem");var f=h.b(r).tickSize(-c).tickFormat((function(t){return t})),b=d.append("g").call(f);b.select(".domain").remove(),b.selectAll("line").attr("stroke","rgba(255, 255, 255, 0.2)"),b.selectAll("text").attr("opacity",.5).attr("color","white").attr("font-size","0.75rem");var j=h.d().x((function(e){return a(t(e.date))})).y((function(t){return r(t.value)}));d.append("path").attr("d",j(e.items)).attr("stroke","white").attr("stroke-width",2).attr("fill","none").attr("class","line")}),[e]),Object(g.jsx)("svg",{ref:n,width:s,height:d+10})},p=a(2),v=a(81),k=a.n(v),x=a(28),w=a(82),L=a(83),y=a(84),T="ISLOADING",S="DATE",C="LOADDATA",I="SETSUBITEM",D="SETSELECTION",A={isLoading:!0,fiscalYear:y.DateTime.now().minus({years:1}).toFormat("yyyy"),departmentList:{},departmentTotals:{},cabinetList:{},cabinetTotals:{},fundCategoryList:{},fundCategoryTotals:{},fundList:{},fundTotals:{},selection:"department",subItem:"total",workingDataSet:null,totals:null,totalAmount:0},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(p.a)(Object(p.a)({},t),{},{isLoading:!e.isLoading});case S:return Object(p.a)(Object(p.a)({},t),{},{fiscalYear:e.data.fiscalYear});case C:var a=e.data,n=a.department_list,r=a.total_amount,c=a.grand_totals,i=a.cabinet_list,o=a.fund_list,s=a.fund_category_list;return Object(p.a)(Object(p.a)({},t),{},{totalAmount:r,departmentList:n,departmentTotals:c.department,cabinetList:i,cabinetTotals:c.cabinet,fundCategoryList:s,fundCategoryTotals:c.fund_category,fundList:o,fundTotals:c.fund,isLoading:e.data.isLoading,workingDataSet:n,totals:c.department});case I:return Object(p.a)(Object(p.a)({},t),{},{subItem:e.data.subItem});case D:var d=null,l=null;switch(e.data.selection){case"department":d=t.departmentList,l=t.departmentTotals;break;case"cabinet":d=t.cabinetList,l=t.cabinetTotals;break;case"fund_category":d=t.fundCategoryList,l=t.fundCategoryTotals;break;case"fund":d=t.fundList,l=t.fundTotals;break;default:d=t.departmentList,l=t.departmentTotals}return Object(p.a)(Object(p.a)({},t),{},{selection:e.data.selection,subItem:"total",workingDataSet:d,totals:l});default:return t}},_=Object(x.combineReducers)({data:E}),F=[L.a],N=Object(x.createStore)(_,Object(w.composeWithDevTools)(x.applyMiddleware.apply(void 0,F))),M=function(t){return function(e){e({type:D,data:{selection:t}})}},Y=function(){return function(t){var e=N.getState().data.fiscalYear;k.a.get("https://api.github.com/repos/David-Duefrene/Daves-Datasets/contents/Colorado-Budget/data/".concat(e,".json")).then((function(e){t({type:C,data:Object(p.a)({isLoading:!1},JSON.parse(atob(e.data.content)))})})).catch((function(t){console.log(t)}))}},z=(a(222),function(){var t=Object(o.c)((function(t){return t.data.fiscalYear})),e=Object(o.c)((function(t){return t.data.workingDataSet})),a=Object(o.c)((function(t){return t.data.totals})),r=Object(o.c)((function(t){return t.data.subItem})),c=Object(o.c)((function(t){return t.data.selection})),i=Object(o.c)((function(t){return t.data.isLoading})),h=Object(n.useState)(.75*window.innerWidth),p=Object(s.a)(h,2),v=p[0],k=p[1],x=Object(n.useState)(.75*window.innerHeight),w=Object(s.a)(x,2),L=w[0],y=w[1],C=Object(n.useState)(!1),D=Object(s.a)(C,2),A=D[0],E=D[1],_=Object(o.b)();if(Object(n.useEffect)((function(){_(Y())}),[]),Object(n.useEffect)((function(){var t=function(){k(.75*window.innerWidth),y(.75*window.innerHeight)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}})),i)return Object(g.jsx)("h1",{children:"Loading!!!"});for(var F={width:v,height:L,margin:{top:60,right:200,bottom:10,left:100}},N="#".concat(Math.floor(16777215*Math.random()).toString(16)),z=[],B=0;B<12;B++){var P=B<9?"0".concat(B+1):B+1;""===r?z.push({value:e[B+1].total,date:"2020-".concat(P,"-01")}):z.push({value:e[B+1][r],date:"2020-".concat(P,"-01")})}var J=[];Object.keys(a).forEach((function(t){J.push(Object(g.jsx)(u.a.Item,{action:!0,active:r===t,onClick:function(){return _(function(t){return function(e){e({type:I,data:{subItem:t}})}}(t))},children:t}))}));var W=["2017","2018","2019","2020","2021"].map((function(t){return Object(g.jsx)(l.a.Item,{onClick:function(){var e;_((e=t,function(t){t({type:S,data:{fiscalYear:e}})})),_(function(t){return function(e){e({type:T,data:{isLoading:t}})}}()),_(Y())},children:t})})),H=Object(g.jsx)("div",{id:"SidePanelID",children:Object(g.jsxs)(d.a,{gap:1,className:"Stack",children:[Object(g.jsxs)(l.a,{children:[Object(g.jsx)(l.a.Toggle,{variant:"dark",id:"dropdown-basic",children:t}),Object(g.jsx)(l.a.Menu,{variant:"dark",children:W})]}),Object(g.jsxs)(l.a,{children:[Object(g.jsx)(l.a.Toggle,{variant:"dark",id:"dropdown-basic",children:c}),Object(g.jsxs)(l.a.Menu,{variant:"dark",children:[Object(g.jsx)(l.a.Item,{onClick:function(){return _(M("department"))},children:"Department"}),Object(g.jsx)(l.a.Item,{onClick:function(){return _(M("cabinet"))},children:"Cabinet"}),Object(g.jsx)(l.a.Item,{onClick:function(){return _(M("fund_category"))},children:"Fund Category"}),Object(g.jsx)(l.a.Item,{onClick:function(){return _(M("fund"))},children:"Fund"})]})]}),Object(g.jsx)(u.a,{variant:"dark",className:"List",children:J})]})});return Object(g.jsxs)(f.a,{fluid:!0,className:"Main",children:[Object(g.jsx)(b.a,{children:Object(g.jsxs)("div",{className:"SidePanel d-grid gap-2",children:[Object(g.jsx)(m.a,{onClick:function(){return E(!A)},"aria-controls":"SidePanelID",bsPrefix:"Button",children:A?"<":">"}),Object(g.jsx)(j.a,{in:A,dimension:"width",children:Object(g.jsx)("div",{children:H})})]})}),Object(g.jsx)(b.a,{md:"auto",className:"LineChart",children:Object(g.jsx)(O,{data:{name:t,color:N,items:z},dimensions:F})})]})});a(224);var B=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(z,{})})},P=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))};a(225);i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(o.a,{store:N,children:Object(g.jsx)(B,{})})}),document.getElementById("root")),P(console.log)}},[[226,1,2]]]);
//# sourceMappingURL=main.8adeba37.chunk.js.map