(this["webpackJsonpcolorado-budget"]=this["webpackJsonpcolorado-budget"]||[]).push([[0],{203:function(t,e,n){},206:function(t,e,n){},225:function(t,e,n){},226:function(t,e,n){},227:function(t,e,n){},228:function(t,e,n){},229:function(t,e,n){},230:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),o=n(12),s=n(3),d=n(86),u=n(32),l=n(47),b=n(7),m=n.n(b),j=n(17),f=function(t){var e=t.data,n=t.dimensions,a=t.svgRef,r=n.width,c=n.height,i=j.k("%Y-%m-%d"),o=j.h().domain(j.c(e.items,(function(t){return i(t.date)}))).range([0,r]),s=j.f(e.items,(function(t){return t.value})),d=j.e(e.items,(function(t){return t.value})),u=j.g().domain([s<0?1.25*s:.75*s,d<0?.75*d:1.1*d]).range([c-50,0]),l=j.i(a.current);l.selectAll("*").remove();var b=l.append("g").attr("transform","translate(100,20)"),m=j.a(o).tickSize(-c).tickFormat(j.j("%B")),f=b.append("g").attr("transform","translate(0, ".concat(c,")")).call(m);f.select(".domain").remove(),f.selectAll("line").attr("stroke","var(--alt-color)"),f.selectAll("text").attr("transform","rotate(-45)").attr("color","var(--text-color)").attr("font-size","0.75rem");var h=j.b(u).tickSize(-r).tickFormat((function(t){return t})),p=b.append("g").call(h);p.select(".domain").remove(),p.selectAll("line").attr("stroke","var(--alt-color)"),p.selectAll("text").attr("color","var(--text-color)").attr("font-size","0.75rem");var O=j.d().x((function(t){return o(i(t.date))})).y((function(t){return u(t.value)}));b.append("path").attr("d",O(e.items)).attr("stroke","var(--line-color)").attr("stroke-width",2).attr("fill","none").attr("class","line")};f.propTypes={data:m.a.shape({color:m.a.string.isRequired,name:m.a.string.isRequired,items:m.a.arrayOf(m.a.shape({date:m.a.string.isRequired,value:m.a.number.isRequired})).isRequired}).isRequired,dimensions:m.a.shape({width:m.a.number.isRequired,height:m.a.number.isRequired,margin:m.a.shape({top:m.a.number.isRequired,right:m.a.number.isRequired,bottom:m.a.number.isRequired,left:m.a.number.isRequired})}).isRequired,svgRef:m.a.shape({current:m.a.instanceOf(Element)}).isRequired};var h=f,p=(n(203),n(1)),O=function(t){var e=t.data,n=r.a.useRef(null),c=Object(a.useState)(.8*window.innerWidth),i=Object(s.a)(c,2),o=i[0],d=i[1],u=Object(a.useState)(.75*window.innerHeight),l=Object(s.a)(u,2),b=l[0],m=l[1];Object(a.useEffect)((function(){var t=function(){d(.75*window.innerWidth),m(.75*window.innerHeight)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var j={width:o,height:b};return Object(a.useEffect)((function(){h({data:e,dimensions:j,svgRef:n})}),[e,j,n]),Object(p.jsx)("svg",{className:"Chart",ref:n,width:o+120,height:1.1*b})},g=n(88),y=n(28),v=n(87),x=n(16),w=(n(75),function(t){var e=t.year,n=t.yearList,a=t.changeYear,r=n.map((function(t){return Object(p.jsx)(x.a.Item,{className:"dropdown-item",onClick:function(){return a(t)},children:t},"year-".concat(t))}));return Object(p.jsxs)(x.a,{children:[Object(p.jsx)(x.a.Toggle,{className:"dropdown-trigger",id:"dropdown-basic",children:e}),Object(p.jsx)(x.a.Menu,{className:"dropdown-background",children:r})]})}),L=function(t){var e=t.selection,n=t.dispatchSelection;return Object(p.jsxs)(x.a,{children:[Object(p.jsx)(x.a.Toggle,{className:"dropdown-trigger",id:"dropdown-basic",children:e}),Object(p.jsxs)(x.a.Menu,{className:"dropdown-background",children:[Object(p.jsx)(x.a.Item,{className:"dropdown-item",onClick:function(){return n("department")},children:"Department"}),Object(p.jsx)(x.a.Item,{className:"dropdown-item",onClick:function(){return n("cabinet")},children:"Cabinet"}),Object(p.jsx)(x.a.Item,{className:"dropdown-item",onClick:function(){return n("fund_category")},children:"Fund Category"}),Object(p.jsx)(x.a.Item,{className:"dropdown-item",onClick:function(){return n("fund")},children:"Fund"})]})]})},k=n(59),S=(n(206),function(t){var e=t.totals,n=t.subItem,a=t.dispatch,r=[];return Object.keys(e).forEach((function(t){r.push(Object(p.jsx)(k.a.Item,{action:!0,active:n===t,onClick:function(){return a(t)},children:t},t))})),Object(p.jsx)(k.a,{className:"List",children:r})}),C=n(2),T=n(58),I=n.n(T),E=n(30),D=n(84),N=n(85),R="ISLOADING",q="DATE",A="LOADDATA",P="SETSUBITEM",F="SETSELECTION",_="SETYEARLIST",z={isLoading:!0,year:"2020",yearList:[],departmentList:{},departmentTotals:{},cabinetList:{},cabinetTotals:{},fundCategoryList:{},fundCategoryTotals:{},fundList:{},fundTotals:{},selection:"department",subItem:"total",workingDataSet:null,totals:null,totalAmount:0},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R:return Object(C.a)(Object(C.a)({},t),{},{isLoading:!e.isLoading});case q:return Object(C.a)(Object(C.a)({},t),{},{subItem:"total",year:e.data.year});case _:return Object(C.a)(Object(C.a)({},t),{},{yearList:e.data.yearList});case A:var n=e.data,a=n.department_list,r=n.total_amount,c=n.grand_totals,i=n.cabinet_list,o=n.fund_list,s=n.fund_category_list;return Object(C.a)(Object(C.a)({},t),{},{totalAmount:r,departmentList:a,departmentTotals:c.department,cabinetList:i,cabinetTotals:c.cabinet,fundCategoryList:s,fundCategoryTotals:c.fund_category,fundList:o,fundTotals:c.fund,isLoading:e.data.isLoading,workingDataSet:a,totals:c.department});case P:return Object(C.a)(Object(C.a)({},t),{},{subItem:e.data.subItem});case F:var d=null,u=null;switch(e.data.selection){case"department":d=t.departmentList,u=t.departmentTotals;break;case"cabinet":d=t.cabinetList,u=t.cabinetTotals;break;case"fund_category":d=t.fundCategoryList,u=t.fundCategoryTotals;break;case"fund":d=t.fundList,u=t.fundTotals;break;default:d=t.departmentList,u=t.departmentTotals}return Object(C.a)(Object(C.a)({},t),{},{selection:e.data.selection,subItem:"total",workingDataSet:d,totals:u});default:return t}},B=Object(E.combineReducers)({data:M}),Y=[N.a],J=Object(E.createStore)(B,Object(D.composeWithDevTools)(E.applyMiddleware.apply(void 0,Y))),W=function(){return function(t){var e=J.getState().data.year;I.a.get("https://api.github.com/repos/David-Duefrene/Daves-Datasets/contents/Colorado-Budget/data/".concat(e,".json")).then((function(e){t({type:A,data:Object(C.a)({isLoading:!1},JSON.parse(atob(e.data.content)))})})).catch((function(t){console.log(t)}))}},H=(n(225),function(t){var e=t.show,n=t.setShow,a=Object(o.c)((function(t){return t.data.selection})),r=Object(o.c)((function(t){return t.data.subItem})),c=Object(o.c)((function(t){return t.data.totals})),i=Object(o.c)((function(t){return t.data.year})),s=Object(o.c)((function(t){return t.data.yearList})),d=Object(o.b)();return Object(p.jsxs)("div",{className:"SidePanel d-grid gap-2",children:[Object(p.jsx)(y.a,{className:"SidePanel-button",onClick:function(){return n(!e)},"aria-controls":"SidePanelID",children:e?"<":">"}),Object(p.jsx)(v.a,{in:e,dimension:"width",children:Object(p.jsx)("div",{children:Object(p.jsx)("div",{id:"SidePanelID",children:Object(p.jsxs)(g.a,{gap:1,className:"Stack",children:[Object(p.jsx)(w,{year:i,yearList:s,changeYear:function(t){var e,n;d((function(t){t({type:R,data:{isLoading:e}})})),d((n=t,function(t){t({type:q,data:{year:n}})})),d(W())}}),Object(p.jsx)(L,{selection:a,dispatchSelection:function(t){return d(function(t){return function(e){e({type:F,data:{selection:t}})}}(t))}}),Object(p.jsx)(S,{totals:c,subItem:r,dispatch:function(t){return d(function(t){return function(e){e({type:P,data:{subItem:t}})}}(t))}})]})})})})]})}),U=(n(226),function(){var t=Object(a.useState)("dark"),e=Object(s.a)(t,2),n=e[0],r=e[1];return Object(p.jsx)("div",{className:"theme-switch d-grid",children:Object(p.jsx)(y.a,{size:"sm",variant:n,onClick:function(){if("dark"===n)return document.documentElement.style.setProperty("--main-color","hsl(0, 0%, 90%)"),document.documentElement.style.setProperty("--text-color","hsl(0, 0%, 0%)"),document.documentElement.style.setProperty("--line-color","hsl(265, 100%, 47%)"),document.documentElement.style.setProperty("--alt-color","hsla(258, 100%, 35%, 0.5)"),void r("light");document.documentElement.style.setProperty("--main-color","hsl(0, 0%, 13%)"),document.documentElement.style.setProperty("--text-color","hsl(0, 0%, 100%)"),document.documentElement.style.setProperty("--line-color","hsl(267, 95%, 76%)"),document.documentElement.style.setProperty("--alt-color","hsl(0, 27%, 94%)"),r("dark")},children:"".concat(n.charAt(0).toUpperCase()+n.slice(1)," Mode")})})}),G=(n(227),function(t){var e=t.year;return Object(p.jsxs)(l.a,{children:[Object(p.jsx)(u.a,{xs:"2",children:Object(p.jsx)(U,{})}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)("p",{children:"Colorado budget is app that displays the yearly budgets of all of Colorado's Departments, Cabinets, Funds and Fund Categories."}),Object(p.jsx)("h3",{children:"Current year being viewed: ".concat(e)})]})]})}),K=(n(228),function(){var t=Object(a.useState)(!1),e=Object(s.a)(t,2),n=e[0],r=e[1],c=Object(o.c)((function(t){return t.data.year})),i=Object(o.c)((function(t){return t.data.workingDataSet})),b=Object(o.c)((function(t){return t.data.subItem})),m=Object(o.c)((function(t){return t.data.isLoading})),j=Object(o.b)();if(Object(a.useEffect)((function(){j(W()),j((function(t){I.a.get("https://api.github.com/repos/David-Duefrene/Daves-Datasets/contents/Colorado-Budget/data/").then((function(e){t({type:_,data:{yearList:e.data.map((function(t){return t.name.replace(".json","")}))}})})).catch((function(t){console.log(t)}))}))}),[]),m)return Object(p.jsx)("h1",{children:"Loading!!!"});for(var f=[],h=0;h<12;h++){var g=h<9?"0".concat(h+1):h+1;""===b?f.push({value:i[h+1].total,date:"2020-".concat(g,"-01")}):f.push({value:i[h+1][b],date:"2020-".concat(g,"-01")})}return Object(p.jsx)("div",{children:Object(p.jsx)(d.a,{fluid:!0,className:"Main",children:Object(p.jsxs)(l.a,{xs:"auto",children:[Object(p.jsx)(u.a,{className:"SmoothTransition",xs:n?2:1,children:Object(p.jsx)(H,{show:n,setShow:r})}),Object(p.jsxs)(u.a,{xs:n?9:10,children:[Object(p.jsx)(G,{year:c}),Object(p.jsx)(O,{data:{name:c,items:f}})]})]})})})}),Q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};n(229);i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(o.a,{store:J,children:Object(p.jsx)(K,{})})}),document.getElementById("root")),Q(console.log)},75:function(t,e,n){}},[[230,1,2]]]);
//# sourceMappingURL=main.304b8f18.chunk.js.map